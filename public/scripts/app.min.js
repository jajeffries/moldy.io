!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.app=t()}}(function(){var t;return function e(t,n,r){function o(i,a){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(s)return s(i,!0);throw new Error("Cannot find module '"+i+"'")}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){var n=t[i][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(t,e,n){var r=n;r.class={},r.config=t("./config.json"),r.controller=null,r.environment=t("./environment"),r.helpers=t("./helpers"),r.model={},r.modules=t("./modules"),r.routes=t("./routes"),r.scope=null,r.self=null,r.service={},r.class.base=t("./classes/base.class"),r.class.model=t("./classes/model.class"),r.class.service=t("./classes/service.class"),r.service.main=t("./services/main.service"),r.service.about=t("./services/about.service"),r.model.example=t("./models/example.model"),r.model.guy=t("./models/guy.model"),r.modules.moldy.use(r.modules.moldy.schema),r.modules.moldy.use(r.modules.moldy.ajax)},{"./classes/base.class":2,"./classes/model.class":3,"./classes/service.class":4,"./config.json":5,"./environment":6,"./helpers":8,"./models/example.model":10,"./models/guy.model":11,"./modules":12,"./routes":13,"./services/about.service":14,"./services/main.service":15}],2:[function(t,e){var n=t("../app");e.exports=n.modules.klass(function(){})},{"../app":1}],3:[function(t,e){var n=t("../app");e.exports=n.class.base.extend(function(){}).methods({addListeners:function(){var t=this,e=function(e){return function(){t[e].apply(t,arguments)}};this.model.on("preget",e("preget")),this.model.on("get",e("get")),this.model.on("presave",e("presave")),this.model.on("save",e("save")),this.model.on("predestroy",e("predestroy")),this.model.on("destroy",e("destroy"))},predestroy:function(){},preget:function(){},presave:function(){},collection:function(){n.helpers.scope.apply()},destroy:function(){n.helpers.scope.apply()},get:function(){n.helpers.scope.apply()},save:function(){n.helpers.scope.apply()}})},{"../app":1}],4:[function(t,e){var n=t("../app");e.exports=n.class.base.extend(function(){this.model={}})},{"../app":1}],5:[function(t,e){e.exports={api:{base:"/api"}}},{}],6:[function(t,e){var n=t("./app");n.config.environment="local",e.exports=n.config.environment},{"./app":1}],7:[function(t,e,n){var r=t("./app");n=e.exports=r,angular.module("app",["ngRoute"]).config(r.routes),n.controller=function(t,e,n,o){var s=r.controller=this;r.scope=t,r.scope.$route=e,r.scope.$routeParams=n,r.scope.$location=o,Object.keys(r.service).forEach(function(t){s[t+"Service"]=new r.service[t]})}},{"./app":1}],8:[function(t,e){e.exports={scope:t("./scope")}},{"./scope":9}],9:[function(t,e,n){var r=t("../app");n.apply=function(){r.scope.$apply()}},{"../app":1}],10:[function(t,e){var n=t("../app");e.exports=n.class.model.extend(function(){this.model=new n.modules.moldy("example",{baseUrl:n.config.api.base}),this.addListeners()})},{"../app":1}],11:[function(t,e){var n=t("../app");e.exports=n.class.model.extend(function(){this.model=new n.modules.moldy("guy",{baseUrl:n.config.api.base}),this.addListeners()})},{"../app":1}],12:[function(t,e,n){n=e.exports={klass:t("klass"),moldy:t("moldy")}},{klass:16,moldy:26}],13:[function(t,e){var n=t("./app"),r=function(t){return function(){var e=n.scope.self=n.self=n.controller[t];e.name=t,e.initialised=!1,e.init()}};e.exports=function(t,e){t.when("/about",{templateUrl:"/partials/about.html",controller:r("aboutService")}).otherwise({templateUrl:"partials/main.html",controller:r("mainService")}),e.html5Mode(!0)}},{"./app":1}],14:[function(t,e){var n=t("../app");e.exports=n.class.service.extend(function(){}).methods({init:function(){var t=this;t.initialised=!0}})},{"../app":1}],15:[function(t,e){var n=t("../app");e.exports=n.class.service.extend(function(){}).methods({init:function(){var t=this;t.model.example=(new n.model.example).model,t.model.guy=(new n.model.guy).model,async.waterfall([function(e){t.model.guy.$get(function(t){e(t)})},function(e){t.model.example.$get(function(t){e(t)})}],function(e){if(e)throw e;t.initialised=!0})}})},{"../app":1}],16:[function(e,n){!function(e,r,o){"function"==typeof t?t(o):"undefined"!=typeof n?n.exports=o():r[e]=o()}("klass",this,function(){function t(t){return o.call(e(t)?t:function(){},t,1)}function e(t){return typeof t===s}function n(t,e,n){return function(){var r=this.supr;this.supr=n[a][t];var o={}.fabricatedUndefined,s=o;try{s=e.apply(this,arguments)}finally{this.supr=r}return s}}function r(t,r,o){for(var s in r)r.hasOwnProperty(s)&&(t[s]=e(r[s])&&e(o[a][s])&&i.test(r[s])?n(s,r[s],o):r[s])}function o(t,n){function o(){}function s(){this.initialize?this.initialize.apply(this,arguments):(n||u&&i.apply(this,arguments),l.apply(this,arguments))}o[a]=this[a];var i=this,c=new o,u=e(t),l=u?t:this,p=u?{}:t;return s.methods=function(t){return r(c,t,i),s[a]=c,this},s.methods.call(s,p).prototype.constructor=s,s.extend=arguments.callee,s[a].implement=s.statics=function(t,e){return t="string"==typeof t?function(){var n={};return n[t]=e,n}():t,r(this,t,i),this},s}var s="function",i=/xyz/.test(function(){})?/\bsupr\b/:/.*/,a="prototype";return t})},{}],17:[function(t,e){function n(t){return t?r(t):void 0}function r(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;++r)n[r].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],18:[function(t,e){var n=t("sc-contains"),r=t("sc-is"),o=function(t,e,s,i){var a,c=e,u=r.an.array(i)?i:[];switch(!0){case/float|integer/.test(c):c="number"}if(r.a[c](t)||"*"===c)a=t;else switch(!0){case"array"===c:try{if(r.a.string(t)&&(a=JSON.parse(t)),r.not.an.array(a))throw""}catch(l){r.not.nullOrUndefined(t)&&(a=[t])}break;case"boolean"===c:try{a=/^(true|1|y|yes)$/i.test(t.toString())?!0:void 0}catch(l){}if(r.not.a.boolean(a))try{a=/^(false|-1|0|n|no)$/i.test(t.toString())?!1:void 0}catch(l){}a=r.a.boolean(a)?a:void 0;break;case"date"===c:try{a=new Date(t),a=isNaN(a.getTime())?void 0:a}catch(l){}break;case"string"===c:try{if(a=JSON.stringify(t),r.undefined(a))throw""}catch(l){try{a=t.toString()}catch(l){}}break;case"number"===c:try{a=parseFloat(t),(r.not.a.number(a)||isNaN(a))&&(a=void 0)}catch(l){a=void 0}if(void 0!==a)switch(!0){case"integer"===e:a=parseInt(a)}break;default:try{a=o(JSON.parse(t),c)}catch(l){}}return u.length>0&&!n(u,a)&&(a=u[0]),r.not.undefined(a)?a:r.not.undefined(s)?s:null};e.exports=o},{"sc-contains":19,"sc-is":32}],19:[function(t,e){var n=function(t,e){var n=!1;return Array.isArray(t)?t.forEach(function(t){n===!1&&e===t&&(n=!0)}):Object(t)===t&&Object.keys(t).forEach(function(r){n===!1&&t[r]===e&&(n=!0)}),n};e.exports=n},{}],20:[function(t,e){var n=t("type-component"),r=function(){var t=Array.prototype.slice.call(arguments),e="boolean"===n(t[0])?t.shift():!1,o=t,s={};return o.forEach(function(t){"object"===n(t)&&Object.keys(t).forEach(function(o){Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=e&&"object"===n(t[o])?r(e,{},s[o],t[o]):t[o])})}),s};e.exports=r},{"type-component":21}],21:[function(t,e){var n=Object.prototype.toString;e.exports=function(t){switch(n.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array"}return null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}},{}],22:[function(t,e){e.exports={defaults:{middlewareKey:"all"}}},{}],23:[function(t,e){var n=t("sc-is"),r=t("./config.json"),o=function(){},s=function(t,e,r){return n.not.empty(e)&&n.a.string(e)?(n.not.an.array(t[e])&&(t[e]=[]),n.a.func(r)&&t[e].push(r),t[e]):void 0},i=function(){this.functions={all:[]}};i.prototype.use=function(){var t=this,e=Array.prototype.slice.call(arguments),i=n.a.string(e[0])?e.shift():r.defaults.middlewareKey,a=n.a.func(e[0])?e.shift():o;s(t.functions,i,a)},i.prototype.middleware=function(){var t=this,e=0,i=Array.prototype.slice.call(arguments),a=n.a.string(i[0])&&n.a.func(i[1])?i.shift():r.defaults.middlewareKey,c=n.a.func(i[0])?i.shift():o;s(t.functions,a);var u=function(){var n=t.functions[a][e++],r=Array.prototype.slice.call(arguments);n?(r.push(u),n.apply(t.context,r)):c.apply(t.context,r)};u.apply(t.context,i)},i.prototype.clear=function(t){n.a.string(t)&&n.not.empty(t)?this.functions[t]=[]:this.functions={all:[]}},e.exports=function(t){var e=new i;n.an.object(t)?(Object.defineProperties(t,{use:{value:function(){return e.use.apply(e,arguments),t}},middleware:{value:function(){e.middleware.apply(e,arguments)}},useify:{value:e}}),e.context=t):n.a.fn(t)&&(t.prototype.middleware=function(){e.context=this,e.middleware.apply(e,arguments)},t.use=function(){return e.use.apply(e,arguments),this},t.useify=e)}},{"./config.json":22,"sc-is":32}],24:[function(t,e){var n=function(t){var e={},n=Array.isArray(t)?t:[],r=function(t){var r=Array.prototype.slice.call(arguments,1);return e[t]?e[t].apply(n,r):n["__"+t].apply(n,r)};return Object.defineProperties(n,{on:{value:function(t,n){e[t]=n}}}),Object.defineProperty(n,"pop",{value:function(){return r("pop",n[n.length-1])}}),Object.defineProperty(n,"__pop",{value:function(){return Array.prototype.pop.apply(n,arguments)}}),Object.defineProperty(n,"shift",{value:function(){return r("shift",n[0])}}),Object.defineProperty(n,"__shift",{value:function(){return Array.prototype.shift.apply(n,arguments)}}),["push","reverse","unshift","sort","splice"].forEach(function(t){var e={};e[t]={value:r.bind(null,t)},e["__"+t]={value:function(){return Array.prototype[t].apply(n,arguments)}},Object.defineProperties(n,e)}),n};e.exports=n},{}],25:[function(t,e,n){var r=t("sc-is"),o=t("sc-cast"),s=t("sc-merge");n.attributes=function(t,e){var n;return n=r.a.string(e)?{type:e}:r.an.object(e)&&e.__model===!0?{type:"model","default":e}:e,s({name:t||"",type:"","default":null,optional:!1},n)},n.getProperty=function(t){return function(){return this.__data[t]}},n.setBusy=function(t){return function(){t.busy=!0}},n.setProperty=function(t){return function(e){var n=this,r=n.__attributes[t],s=r.type?o(e,r.type,r["default"]):e;n.__data[t]!==s&&n.emit("change",n.__data[t],s),n.__data[t]=s}},n.unsetBusy=function(t){return function(){t.busy=!1}},n.noop=function(){}},{"sc-cast":18,"sc-is":32,"sc-merge":20}],26:[function(t,e,n){var r=t("sc-is"),o=t("sc-cast"),s=t("sc-haskey"),i=t("./helpers"),a=t("sc-merge"),c=t("emitter-component"),u=t("sc-useify"),l=t("./request"),p=t("sg-observable-array"),f=function(t,e){var n=this,s=r.an.object(e)?e:{};Object.defineProperties(n,{__model:{value:!0},__attributes:{value:{},writable:!0},__baseUrl:{value:o(s.baseUrl,"string",""),writable:!0},__data:{value:{},writable:!0},__destroyed:{value:!1,writable:!0},__headers:{value:o(s.headers,"object",{}),writable:!0},__key:{value:o(s.key,"string","id")||"id",writable:!0},__keyless:{value:s.keyless===!0},__name:{value:t||s.name||""},__url:{value:o(s.url,"string",""),writable:!0},busy:{value:!1,writable:!0}}),s.keyless||n.$property(n.__key),Object.keys(o(s.properties,"object",{})).forEach(function(t){n.$property(t,s.properties[t])}),n.on("presave",i.setBusy(n)),n.on("save",i.unsetBusy(n)),n.on("predestroy",i.setBusy(n)),n.on("destroy",i.unsetBusy(n)),n.on("preget",i.setBusy(n)),n.on("get",i.unsetBusy(n))};f.prototype.$baseUrl=function(t){var e=this,n=o(t,"string",e.__baseUrl||"");return e.__baseUrl=n.trim().replace(/(\/|\s)+$/g,""),r.not.a.string(t)?e.__baseUrl:e},f.prototype.$collection=function(t){var e=this,n=e.$url(),o="get",s=r.an.object(t)?t:{},a=r.a.func(t)?t:r.a.func(_callback)?_callback:i.noop;e.emit("precollection",{model:e,method:o,query:s,url:n,callback:a}),l(e,s,o,n,function(t,n){e.emit("collection",t,n),a.apply(e,arguments)})},f.prototype.$destroy=function(t){var e=this,n=e.$isDirty(),o=e.$json(),s=e.$url()+(e.__keyless?"":"/"+e[e.__key]),a="delete",c=r.a.func(t)?t:i.noop;e.emit("predestroy",{model:e,data:o,method:a,url:s,callback:c}),n?c.apply(e,[new Error("This model cannot be destroyed because it has not been saved to the server yet.")]):l(e,o,a,s,function(){e.emit("destroy",e),e.__destroyed=!0,c.apply(e,arguments)})},f.prototype.$data=function(t){var e=this,n=r.object(t)?t:{};return Object.keys(n).forEach(function(t){e.__attributes.hasOwnProperty(t)&&(r.an.array(n[t])&&s(e.__attributes[t],"arrayOfAType","boolean")&&e.__attributes[t].arrayOfAType===!0?n[t].forEach(function(n){e[t].push(n)}):r.a.object(n[t])&&e[t]instanceof f?e[t].$data(n[t]):e[t]=n[t])}),e},f.prototype.$clone=function(t){var e=this,n=o(t,"object",{}),r=new f(e.__name,{baseUrl:e.__baseUrl,headers:e.__headers,key:e.__key,keyless:e.__keyless,url:e.__url});return Object.keys(e.__attributes).forEach(function(t){r.$property(t,a(e.__attributes[t])),r[t]=n[t]}),r},f.prototype.$get=function(t,e){var n=this,o=n.$url(),s="get",a=r.an.object(t)?t:{},c=r.a.func(t)?t:r.a.func(e)?e:i.noop;n.emit("preget",{model:n,method:s,query:a,url:o,callback:c}),l(n,a,s,o,function(t,e){n.emit("get",t,e),c.apply(n,arguments)})},f.prototype.$headers=function(t){return this.__headers=r.an.object(t)?t:this.__headers,r.not.an.object(t)?this.__headers:this},f.prototype.$isDirty=function(){return r.empty(this[this.__key])},f.prototype.$isValid=function(){var t=this,e=!0;return Object.keys(t.__attributes).forEach(function(n){if(!t.$isDirty()||n!==t.__key){var o=t[n],i=t.__attributes[n],a=i.type,c=s(i,"arrayOfAType","boolean")?i.arrayOfAType===!0:!1,u=i.optional!==!0,l=t.__keyless?!1:c?0===o.length:r.nullOrUndefined(o),p=r.not.empty(a)&&r.a.string(a)?r.not.a[a](o):l;c&&r.not.empty(o)&&o[0]instanceof f&&o.forEach(function(t){e&&t.$isValid()===!1&&(e=!1)}),e&&u&&p&&(e=!1)}}),e},f.prototype.$json=function(){var t=this,e=t.__data,n={};return Object.keys(e).forEach(function(t){r.an.array(e[t])&&e[t][0]instanceof f?(n[t]=[],e[t].forEach(function(e){n[t].push(e.$json())})):r.not.an.object(e[t])?n[t]=e[t]:e[t]instanceof f&&(n[t]=e[t].$json())}),n},f.prototype.$property=function(t,e){var n=this,a=new i.attributes(t,e),c=n[t],u=r.a.string(a.type)&&/model/.test(a.type),l=r.an.array(a.type),h=r.an.array(e)&&s(e[0],"properties","object"),d=r.an.array(e)&&r.a.string(e[0]),y=l&&s(a.type[0],"properties","object"),m=l&&r.a.string(a.type[0])&&r.not.empty(a.type[0]),b=s(e,"properties","object");if(!n.hasOwnProperty(t)||!n.__attributes.hasOwnProperty(t)){if((h||d)&&(a.type=e,y=h,m=d,l=!0),u)Object.defineProperty(n,t,{value:a["default"],enumerable:!0}),n.__data[t]=n[t];else if(b)Object.defineProperty(n,t,{value:new f(e.name,e),enumerable:!0}),n.__data[t]=n[t];else if(l){var v=p([]),_=m||y?a.type[0]:"*";a.arrayOfAType=!0,Object.defineProperty(n,t,{value:v,enumerable:!0}),n.__data[t]=n[t],["push","unshift"].forEach(function(t){v.on(t,function(){var e=Array.prototype.slice.call(arguments),n=[];return e.forEach(function(t){if(y){var e=new f(_.name,_),s=r.an.object(t)?t:a["default"];e.$data(s),n.push(e)}else n.push(o(t,_,a["default"]))}),v["__"+t].apply(v,n)})})}else Object.defineProperty(n,t,{get:i.getProperty(t),set:i.setProperty(t),enumerable:!0});n.__attributes[t]=a}return void 0!==c?n[t]=c:r.empty(n[t])&&a.optional===!1&&r.not.nullOrUndefined(a["default"])?n[t]=a["default"]:r.empty(n[t])&&a.optional===!1&&(n.__data[t]=l||u?n[t]:r.empty(a.type)?void 0:o(void 0,a.type)),n},f.prototype.$save=function(t){var e=this,n=e.$isDirty(),o=e.$json(),s=e.$url()+(n||e.__keyless?"":"/"+e[e.__key]),a=n?"post":"put",c=r.a.func(t)?t:i.noop;e.emit("presave",{model:e,data:o,method:a,url:s,callback:c}),l(e,o,a,s,function(t,n){e.emit("save",t,n),c.apply(e,arguments)})},f.prototype.$url=function(t){var e=this,n=r.empty(e.__baseUrl)?"":e.__baseUrl,o=r.empty(e.__name)?"":"/"+e.__name.trim().replace(/^\//,""),s=t||e.__url||"",i=n+o+(r.empty(s)?"":"/"+s.trim().replace(/^\//,""));return e.__url=s.trim().replace(/^\//,""),r.not.a.string(t)?i:e},c(f.prototype),u(f),n=e.exports=f,n.schema=t("./middleware/schema.middleware"),n.ajax=t("./middleware/ajax.middleware")},{"./helpers":25,"./middleware/ajax.middleware":27,"./middleware/schema.middleware":28,"./request":29,"emitter-component":17,"sc-cast":18,"sc-haskey":30,"sc-is":32,"sc-merge":20,"sc-useify":23,"sg-observable-array":24}],27:[function(t,e){var n=t("superagent"),r=t("sc-cast"),o=t("sc-is"),s=t("sc-haskey");e.exports=function(t,e,i,a,c){var u,l=/delete/i.test(i)?"del":i,p=t,f=r(e,"object",{}),h=a;/get/i.test(l)&&s(f,p.__key)&&new RegExp(f[p.__key]).test(h)===!1&&(h+="/"+f[p.__key],delete f[p.__key]),n[l](h)[/get/i.test(l)?"query":"send"](f).set(p.$headers()).type("json").accept("json").end(function(t,e){var n=o.an.object(e)?e:{},r=s(e,"body")&&(o.object(e.body)||o.array(e.body))?e.body:null;n.ok!==!0&&(u=new Error("The response from the server was not OK")),null===r&&(u=new Error("The response from the server contained an empty body")),c&&c(u,r)})}},{"sc-cast":18,"sc-haskey":30,"sc-is":32,superagent:39}],28:[function(t,e){var n=t("superagent"),r=t("sc-is"),o=t("sc-haskey");e.exports=function(t,e,s,i,a){t.__schema?a(t,e,s,i):n.get(t.$url()+"/schema").end(function(n,c){var u=n,l=r.an.object(c)?c:{},p=o(c,"body")&&r.object(c.body)?c.body:{};if(u||l.ok===!0||(u=new Error("The response from the server was not OK")),u)throw u;Object.defineProperty(t,"__schema",{value:p}),Object.keys(p).forEach(function(e){r.a.func(t["$"+e])&&t["$"+e](p[e]),"properties"===e&&r.object(p[e])&&Object.keys(p.properties).forEach(function(e){var n=t[e];t.$property(e,p.properties[e]),r.not.empty(n)&&(t[e]=n)})}),a(t,e,s,i)})}},{"sc-haskey":30,"sc-is":32,superagent:39}],29:[function(t,e){var n=t("sc-is"),r=(t("sc-cast"),t("sc-haskey"));e.exports=function(t,e,o,s,i){var a=t,c=[],u=r(e,a.__key)&&n.not.empty(e[a.__key])&&/get/.test(o),l=a.$isDirty();a.middleware(function(t){var e=Array.prototype.slice.call(arguments),o=t===a?null:e.shift(),s=e.shift();!o||o instanceof Error||(o=new Error("An unknown error occurred")),!o&&l&&n.object(s)&&u&&!r(s,a.__key)&&(o=new Error("The response from the server did not contain a valid `"+a.__key+"`")),!o&&l&&n.object(s)&&(a[a.__key]=s[a.__key]),o||(n.array(s)?(s.forEach(function(t){c.push(a.$clone(t))}),a=c):a.$data(s)),i&&i(o,a)},t,e,o,s)}},{"sc-cast":18,"sc-haskey":30,"sc-is":32}],30:[function(t,e){function n(t,e,s){t="object"===r(t)?t:{},e="array"===r(e)?e:[],s="string"===r(s)?s:"";var i=e.length>0?e.shift():"",a=o.call(t,i)||void 0!==t[i],c=a?t[i]:void 0,u=r(c)===s;return e.length>0&&a?n(t[i],e,s):e.length>0||""===s?a:a&&u}var r=t("type-component"),o=Object.prototype.hasOwnProperty;e.exports=function(t,e,o){return e="string"===r(e)?e.split("."):[],n(t,e,o)}},{"type-component":31}],31:[function(t,e){e.exports=t(21)},{}],32:[function(t,e,n){var r=t("./ises/type"),o={a:{},an:{},not:{a:{},an:{}}},s={arguments:["arguments",r("arguments")],array:["array",r("array")],"boolean":["boolean",r("boolean")],date:["date",r("date")],"function":["function","func","fn",r("function")],"null":["null",r("null")],number:["number","integer","int",r("number")],object:["object",r("object")],regexp:["regexp",r("regexp")],string:["string",r("string")],undefined:["undefined",r("undefined")],empty:["empty",t("./ises/empty")],nullorundefined:["nullOrUndefined","nullorundefined",t("./ises/nullorundefined")],guid:["guid",t("./ises/guid")]};Object.keys(s).forEach(function(t){var e=s[t].slice(0,s[t].length-1),n=s[t][s[t].length-1];e.forEach(function(t){o[t]=o.a[t]=o.an[t]=n,o.not[t]=o.not.a[t]=o.not.an[t]=function(){return n.apply(this,arguments)?!1:!0}})}),n=e.exports=o,n.type=r},{"./ises/empty":33,"./ises/guid":34,"./ises/nullorundefined":35,"./ises/type":36}],33:[function(t,e){var n=t("../type");e.exports=function(t){var e=!1;return"null"===n(t)||"undefined"===n(t)?e=!0:"object"===n(t)?e=0===Object.keys(t).length:"boolean"===n(t)?e=t===!1:"number"===n(t)?e=0===t||-1===t:("array"===n(t)||"string"===n(t))&&(e=0===t.length),e}},{"../type":38}],34:[function(t,e){var n=t("sc-guid");e.exports=function(t){return n.isValid(t)}},{"sc-guid":37}],35:[function(t,e){e.exports=function(t){return null===t||void 0===t||void 0===t}},{}],36:[function(t,e){var n=t("../type");e.exports=function(t){return function(e){return n(e)===t}}},{"../type":38}],37:[function(t,e,n){var r="{?[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-4[0-9A-Fa-f]{3}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}}?";n.generate=function(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:7&n|8).toString(16)});return e},n.match=function(t){var e=new RegExp(r,"g"),n=("string"==typeof t?t:"").match(e);return Array.isArray(n)?n:[]},n.isValid=function(t){var e=new RegExp(r);return e.test(t)}},{}],38:[function(t,e){var n=Object.prototype.toString;e.exports=function(t){switch(n.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array"}return null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}},{}],39:[function(t,e){function n(){}function r(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function o(){if(m.XMLHttpRequest&&("file:"!=m.location.protocol||!m.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}function s(t){return t===Object(t)}function i(t){if(!s(t))return t;var e=[];for(var n in t)null!=t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function a(t){for(var e,n,r={},o=t.split("&"),s=0,i=o.length;i>s;++s)n=o[s],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function c(t){var e,n,r,o,s=t.split(/\r?\n/),i={};s.pop();for(var a=0,c=s.length;c>a;++a)n=s[a],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),o=b(n.slice(e+1)),i[r]=o;return i}function u(t){return t.split(/ *; */).shift()}function l(t){return y(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(t[r]=o),t},{})}function p(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text=this.xhr.responseText,this.setStatusProperties(this.xhr.status),this.header=this.headers=c(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function f(t,e){var n=this;d.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var e=new p(n);"HEAD"==t&&(e.text=null),n.callback(null,e)})}function h(t,e){return"function"==typeof e?new f("GET",t).end(e):1==arguments.length?new f("GET",t):new f(t,e)}var d=t("emitter"),y=t("reduce"),m="undefined"==typeof window?this:window,b="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};h.serializeObject=i,h.parseString=a,h.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":i,"application/json":JSON.stringify},h.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},p.prototype.get=function(t){return this.header[t.toLowerCase()]},p.prototype.setHeaderProperties=function(){var t=this.header["content-type"]||"";this.type=u(t);var e=l(t);for(var n in e)this[n]=e[n]},p.prototype.parseBody=function(t){var e=h.parse[this.type];return e?e(t):null},p.prototype.setStatusProperties=function(t){var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t||1223==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},p.prototype.toError=function(){var t=this.req,e=t.method,n=t.path,r="cannot "+e+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=e,o.path=n,o},h.Response=p,d(f.prototype),f.prototype.use=function(t){return t(this),this},f.prototype.timeout=function(t){return this._timeout=t,this},f.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},f.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},f.prototype.set=function(t,e){if(s(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},f.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},f.prototype.type=function(t){return this.set("Content-Type",h.types[t]||t),this},f.prototype.accept=function(t){return this.set("Accept",h.types[t]||t),this},f.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},f.prototype.query=function(t){return"string"!=typeof t&&(t=i(t)),t&&this._query.push(t),this},f.prototype.send=function(t){var e=s(t),n=this.getHeader("Content-Type");if(e&&s(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return e?(n||this.type("json"),this):this},f.prototype.callback=function(t,e){var n=this._callback;return 2==n.length?n(t,e):t?this.emit("error",t):void n(e)},f.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},f.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},f.prototype.withCredentials=function(){return this._withCredentials=!0,this},f.prototype.end=function(t){var e=this,s=this.xhr=o(),i=this._query.join("&"),a=this._timeout,c=this._data;if(this._callback=t||n,s.onreadystatechange=function(){return 4==s.readyState?0==s.status?e.aborted?e.timeoutError():e.crossDomainError():void e.emit("end"):void 0},s.upload&&(s.upload.onprogress=function(t){t.percent=t.loaded/t.total*100,e.emit("progress",t)}),a&&!this._timer&&(this._timer=setTimeout(function(){e.abort()},a)),i&&(i=h.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),s.open(this.method,this.url,!0),this._withCredentials&&(s.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof c&&!r(c)){var u=h.serialize[this.getHeader("Content-Type")];u&&(c=u(c))}for(var l in this.header)null!=this.header[l]&&s.setRequestHeader(l,this.header[l]);return this.emit("request",this),s.send(c),this},h.Request=f,h.get=function(t,e,n){var r=h("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},h.head=function(t,e,n){var r=h("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},h.del=function(t,e){var n=h("DELETE",t);return e&&n.end(e),n},h.patch=function(t,e,n){var r=h("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},h.post=function(t,e,n){var r=h("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},h.put=function(t,e,n){var r=h("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},e.exports=h},{emitter:40,reduce:41}],40:[function(t,e){function n(t){return t?r(t):void 0}function r(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},e._off=n,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;var r=n.indexOf(e._off||e);return~r&&n.splice(r,1),this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;++r)n[r].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],41:[function(t,e){e.exports=function(t,e,n){for(var r=0,o=t.length,s=3==arguments.length?n:t[r++];o>r;)s=e.call(null,s,t[r],++r,t);return s}},{}]},{},[7])(7)});